import.version:3.0.0 {unitt}! 
import {src/series}!

describe "Series" [
    it "slices of one from one" [
        expects.be:'equal? @[
            ["1"]
            slices "1" 1
        ]
    ]

    it "slices of one from two" [
        expects.be:'equal? @[
            ["1" "2"]
            slices "12" 1
        ]
    ]

    it "slices of two" [
        expects.be:'equal? @[
            ["35"]
            slices "35" 2
        ]
    ]

    it "slices of two overlap" [
        expects.be:'equal? @[
            ["91" "14" "42"]
            slices "9142" 2
        ]
    ]

    it "slices can include duplicates" [
        expects.be:'equal? @[
            ["777" "777" "777" "777"]
            slices "777777" 3
        ]
    ]

    it "slices of a long series" [
        expects.be:'equal? @[
            [
                "91849"
                "18493"
                "84939"
                "49390"
                "93904"
                "39042"
                "90424"
                "04243"
            ]
            slices "918493904243" 5
        ]
    ]

    it "slice length is too large" [
        expects.be:'null? @[slices "12345" 6]
    ]

    it "slice length is way too large" [
        expects.be:'null? @[slices "12345" 42]
    ]

    it "slice length cannot be zero" [
        expects.be:'null? @[slices "12345" 0]
    ]

    it "slice length cannot be negative" [
        expects.be:'null? @[slices "123" neg 1]
    ]

    it "empty series is invalid" [
        expects.be:'null? @[slices "" 1]
    ]
]
