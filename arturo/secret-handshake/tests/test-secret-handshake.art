import.version:3.0.0 {unitt}! 
import {src/secret-handshake}!

describe "Secret Handshake" [
    it "wink for 1" [
        expects.be:'equal? @[
            ["wink"]
            commands 1
        ]
    ]

    it "double blink for 10" [
        expects.be:'equal? @[
            ["double blink"]
            commands 2
        ]
    ]

    it "close your eyes for 100" [
        expects.be:'equal? @[
            ["close your eyes"]
            commands 4
        ]
    ]

    it "jump for 1000" [
        expects.be:'equal? @[
            ["jump"]
            commands 8
        ]
    ]

    it "combine two actions" [
        expects.be:'equal? @[
            ["wink" "double blink"]
            commands 3
        ]
    ]

    it "reverse two actions" [
        expects.be:'equal? @[
            ["double blink" "wink"]
            commands 19
        ]
    ]

    it "reversing one action gives the same action" [
        expects.be:'equal? @[
            ["jump"]
            commands 24
        ]
    ]

    it "reversing no actions still gives no actions" [
        expects.be:'equal? @[
            []
            commands 16
        ]
    ]

    it "all possible actions" [
        expects.be:'equal? @[
            ["wink" "double blink" "close your eyes" "jump"]
            commands 15
        ]
    ]

    it "reverse all possible actions" [
        expects.be:'equal? @[
            ["jump" "close your eyes" "double blink" "wink"]
            commands 31
        ]
    ]

    it "do nothing for zero" [
        expects.be:'equal? @[
            []
            commands 0
        ]
    ]
]

