import.version:3.0.0 {unitt}! 
import {src/sum-of-multiples}!

describe "Sum of Multiples" [
    it "no multiples within limit" [
        expects.be:'equal? @[0 sumOfMultiples [3 5] 1]
    ]

    it "one factor has multiples within limit" [
        expects.be:'equal? @[3 sumOfMultiples [3 5] 4]
    ]

    it "more than one multiple within limit" [
        expects.be:'equal? @[9 sumOfMultiples [3] 7]
    ]

    it "more than one factor with multiples within limit" [
        expects.be:'equal? @[23 sumOfMultiples [3 5] 10]
    ]

    it "each multiple is only counted once" [
        expects.be:'equal? @[2318 sumOfMultiples [3 5] 100]
    ]

    it "a much larger limit" [
        expects.be:'equal? @[233168 sumOfMultiples [3 5] 1000]
    ]

    it "three factors" [
        expects.be:'equal? @[51 sumOfMultiples [7 13 17] 20]
    ]

    it "factors not relatively prime" [
        expects.be:'equal? @[30 sumOfMultiples [4 6] 15]
    ]

    it "some pairs of factors relatively prime and some not" [
        expects.be:'equal? @[4419 sumOfMultiples [5 6 8] 150]
    ]

    it "one factor is a multiple of another" [
        expects.be:'equal? @[275 sumOfMultiples [5 25] 51]
    ]

    it "much larger factors" [
        expects.be:'equal? @[2203160 sumOfMultiples [43 47] 10000]
    ]

    it "all numbers are multiples of 1" [
        expects.be:'equal? @[4950 sumOfMultiples [1] 100]
    ]

    it "no factors means an empty sum" [
        expects.be:'equal? @[0 sumOfMultiples [] 10000]
    ]

    it "the only multiple of 0 is 0" [
        expects.be:'equal? @[0 sumOfMultiples [0] 1]
    ]

    it "the factor 0 does not affect the sum of multiples of other factors" [
        expects.be:'equal? @[3 sumOfMultiples [3 0] 4]
    ]

    it "solutions using include-exclude must extend to cardinality greater than 3" [
        expects.be:'equal? @[39614537 sumOfMultiples [2 3 5 7 11] 10000]
    ]
]
