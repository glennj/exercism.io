import.version:3.0.0 {unitt}! 
import {src/atbash-cipher}!

describe "Atbash Cipher" [
  describe "Atbash Cipher - Encode" [
    it "encode yes" [
      expects.be:'equal? @[
        "bvh"
        encode "yes"
      ]
    ]

    it "encode no" [
      expects.be:'equal? @[
        "ml"
        encode "no"
      ]
    ]

    it "encode OMG" [
      expects.be:'equal? @[
        "lnt"
        encode "OMG"
      ]
    ]

    it "encode spaces" [
      expects.be:'equal? @[
        "lnt"
        encode "O M G"
      ]
    ]

    it "encode mindblowingly" [
      expects.be:'equal? @[
        "nrmwy oldrm tob"
        encode "mindblowingly"
      ]
    ]

    it "encode numbers" [
      expects.be:'equal? @[
        "gvhgr mt123 gvhgr mt"
        encode "Testing,1 2 3, testing."
      ]
    ]

    it "encode deep thought" [
      expects.be:'equal? @[
        "gifgs rhurx grlm"
        encode "Truth is fiction."
      ]
    ]

    it "encode all the letters" [
      expects.be:'equal? @[
        "gsvjf rxpyi ldmul cqfnk hlevi gsvoz abwlt"
        encode "The quick brown fox jumps over the lazy dog."
      ]
    ]
  ]

  describe "Atbash Cipher - Decode" [
    it "decode exercism" [
      expects.be:'equal? @[
        "exercism"
        decode "vcvix rhn"
      ]
    ]

    it "decode a sentence" [
      expects.be:'equal? @[
        "anobstacleisoftenasteppingstone"
        decode "zmlyh gzxov rhlug vmzhg vkkrm thglm v"
      ]
    ]

    it "decode numbers" [
      expects.be:'equal? @[
        "testing123testing"
        decode "gvhgr mt123 gvhgr mt"
      ]
    ]

    it "decode all the letters" [
      expects.be:'equal? @[
        "thequickbrownfoxjumpsoverthelazydog"
        decode "gsvjf rxpyi ldmul cqfnk hlevi gsvoz abwlt"
      ]
    ]

    it "decode with too many spaces" [
      expects.be:'equal? @[
        "exercism"
        decode "vc vix    r hn"
      ]
    ]

    it "decode with no spaces" [
      expects.be:'equal? @[
        "anobstacleisoftenasteppingstone"
        decode "zmlyhgzxovrhlugvmzhgvkkrmthglmv"
      ]
    ]
  ]
]
