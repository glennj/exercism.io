#!/usr/bin/env tclsh
package require tcltest
namespace import ::tcltest::*
source testHelpers.tcl

############################################################
source "micro-blog.tcl"

test micro-1 "English language short" -body {
    truncate "Hi"
} -returnCodes ok -match exact -result "Hi"

skip micro-2
test micro-2 "English language long" -body {
    truncate "Hello there"
} -returnCodes ok -match exact -result "Hello"

skip micro-3
test micro-3 "German language short (broth)" -body {
    truncate "brÃ¼he"
} -returnCodes ok -match exact -result "brÃ¼he"

skip micro-4
test micro-4 "German language long (bear carpet â†’ beards)" -body {
    truncate "BÃ¤rteppich"
} -returnCodes ok -match exact -result "BÃ¤rte"

skip micro-5
test micro-5 "Bulgarian language short (good)" -body {
    truncate "Ğ”Ğ¾Ğ±ÑŠÑ€"
} -returnCodes ok -match exact -result "Ğ”Ğ¾Ğ±ÑŠÑ€"

skip micro-6
test micro-6 "Greek language short (health)" -body {
    truncate "Ï…Î³ÎµÎ¹Î¬"
} -returnCodes ok -match exact -result "Ï…Î³ÎµÎ¹Î¬"

skip micro-7
test micro-7 "Maths short" -body {
    truncate "a=Ï€rÂ²"
} -returnCodes ok -match exact -result "a=Ï€rÂ²"

skip micro-8
test micro-8 "Maths long" -body {
    truncate "âˆ…âŠŠâ„•âŠŠâ„¤âŠŠâ„šâŠŠâ„âŠŠâ„‚"
} -returnCodes ok -match exact -result "âˆ…âŠŠâ„•âŠŠâ„¤"

skip micro-9
test micro-9 "English and emoji short" -body {
    truncate "Fly ğŸ›«"
} -returnCodes ok -match exact -result "Fly ğŸ›«"

skip micro-10
test micro-10 "Emoji short" -body {
    truncate "ğŸ’‡"
} -returnCodes ok -match exact -result "ğŸ’‡"

skip micro-11
test micro-11 "Emoji long" -body {
    truncate "â„ğŸŒ¡ğŸ¤§ğŸ¤’ğŸ¥ğŸ•°ğŸ˜€"
} -returnCodes ok -match exact -result "â„ğŸŒ¡ğŸ¤§ğŸ¤’ğŸ¥"

skip micro-12
test micro-12 "Royal Flush?" -body {
    truncate "ğŸƒğŸ‚¸ğŸƒ…ğŸƒ‹ğŸƒğŸƒğŸƒŠ"
} -returnCodes ok -match exact -result "ğŸƒğŸ‚¸ğŸƒ…ğŸƒ‹ğŸƒ"


cleanupTests
